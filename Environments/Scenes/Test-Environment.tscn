[gd_scene load_steps=39 format=3 uid="uid://c2xlx03kanghj"]

[ext_resource type="PackedScene" uid="uid://efqdcf4rgvjq" path="res://Environments/Test/Environments_testing.glb" id="1_esi7j"]
[ext_resource type="PackedScene" uid="uid://d1le8vysmt41f" path="res://utils/debug_camera.tscn" id="2_v2tfx"]
[ext_resource type="PackedScene" uid="uid://wk134ykl3tsb" path="res://Characters/Character.tscn" id="3_c2p6k"]
[ext_resource type="Shader" uid="uid://dts5n6pd614qj" path="res://Environments/Materials/Environment_Vertex.tres" id="4_n82ea"]
[ext_resource type="Texture2D" uid="uid://ddecimyb4u3ub" path="res://Environments/Textures/NoiseTexture.png" id="5_imovl"]
[ext_resource type="Texture2D" uid="uid://bcas22va6rpkb" path="res://Environments/Textures/BlendTexture.png" id="6_jtpw0"]
[ext_resource type="ArrayMesh" uid="uid://d2g3838aqisli" path="res://Environments/Assets_Res/Natural/Plants/Tree_Birch.res" id="7_xnfpj"]
[ext_resource type="ArrayMesh" uid="uid://clgcpggtcqye1" path="res://Environments/Assets_Res/Natural/Plants/GrassChunk_Big.res" id="8_3s3i8"]
[ext_resource type="ArrayMesh" uid="uid://b6pr4lxdbeb88" path="res://Environments/Assets_Res/Natural/Plants/Tree_Manzanita.res" id="9_v03nn"]
[ext_resource type="ArrayMesh" uid="uid://brhtbyiu4msoi" path="res://Environments/Assets_Res/Natural/Plants/Tree_DouglasFir.res" id="10_408e2"]
[ext_resource type="ArrayMesh" uid="uid://bgl5hbl0a88nt" path="res://Environments/Assets_Res/Natural/Plants/SwordFern.res" id="11_6iera"]
[ext_resource type="ArrayMesh" uid="uid://clu5d28rbs3af" path="res://Environments/Assets_Res/Natural/Plants/Stump.res" id="12_bfknj"]
[ext_resource type="ArrayMesh" uid="uid://bup6yjqaieha7" path="res://Environments/Assets_Res/Natural/Plants/GrassChunk_Small.res" id="13_xqvj3"]
[ext_resource type="ArrayMesh" uid="uid://3v7wq25elohx" path="res://Environments/Assets_Res/Natural/Plants/Tree_SmallCedar.res" id="14_lw2l4"]
[ext_resource type="ArrayMesh" uid="uid://cxqy6jm20v66o" path="res://Environments/Assets_Res/Natural/Rocks/RockA.res" id="15_k6g7e"]
[ext_resource type="ArrayMesh" uid="uid://d17fjmv3jmsnc" path="res://Environments/Assets_Res/Natural/Rocks/RockB.res" id="16_3ol3e"]
[ext_resource type="ArrayMesh" uid="uid://cdyg6cqrh4ieg" path="res://Environments/Assets_Res/Natural/Rocks/RockC.res" id="17_18ihh"]
[ext_resource type="ArrayMesh" uid="uid://347nvuxfuwlm" path="res://Environments/Assets_Res/Natural/Rocks/RockD.res" id="18_ovyjt"]
[ext_resource type="ArrayMesh" uid="uid://30l5sob5n6iu" path="res://Environments/Assets_Res/Natural/Rocks/SmallRockB.res" id="19_i88pi"]
[ext_resource type="ArrayMesh" uid="uid://b28r5xsyiupfj" path="res://Environments/Assets_Res/Natural/Rocks/SmallRockD.res" id="20_gk075"]
[ext_resource type="ArrayMesh" uid="uid://dvmpbp8a1jdlh" path="res://Environments/Assets_Res/Natural/Rocks/SmallRockC.res" id="21_qlt4l"]
[ext_resource type="ArrayMesh" uid="uid://dj5b1xg7rgurd" path="res://Environments/Assets_Res/City/DumpsterBase.res" id="22_osmqy"]
[ext_resource type="ArrayMesh" uid="uid://bxxps25mspeof" path="res://Environments/Assets_Res/City/DumpsterLids.res" id="23_v7chx"]
[ext_resource type="ArrayMesh" uid="uid://enbrct5pcsxh" path="res://Environments/Assets_Res/City/Mailbox.res" id="24_elak4"]
[ext_resource type="ArrayMesh" uid="uid://rwpsenytayf0" path="res://Environments/Assets_Res/City/StopSign.res" id="25_ua4rd"]
[ext_resource type="ArrayMesh" uid="uid://q1025jwrvkuk" path="res://Environments/Assets_Res/City/TelephonePole.res" id="26_wxyq2"]
[ext_resource type="ArrayMesh" uid="uid://cuyxq3nkcand" path="res://Environments/Assets_Res/City/Tire.res" id="27_udens"]
[ext_resource type="Material" uid="uid://bgthwhdvvamnc" path="res://Environments/Materials/Environment.tres" id="28_kwpff"]
[ext_resource type="ArrayMesh" uid="uid://cmabyg0kyslht" path="res://Environments/Assets_Res/City/TrafficCone.res" id="28_tlu7g"]
[ext_resource type="ArrayMesh" uid="uid://didb3nagc3ju8" path="res://Environments/Assets_Res/City/TrafficLight.res" id="29_ta0nn"]

[sub_resource type="BoxMesh" id="BoxMesh_hps0x"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_x1h0a"]
sky_top_color = Color(0.126317, 0.448816, 0.794597, 1)
sky_horizon_color = Color(0.0401178, 0.126136, 0.355491, 1)
sky_curve = 0.454714
ground_bottom_color = Color(0.225893, 0.191851, 0.152324, 1)
ground_curve = 0.0156917
sun_angle_max = 13.79
sun_curve = 0.197926

[sub_resource type="Sky" id="Sky_eppwk"]
sky_material = SubResource("ProceduralSkyMaterial_x1h0a")

[sub_resource type="Environment" id="Environment_hj8bn"]
background_mode = 2
background_color = Color(0, 0.00162157, 0.0491656, 1)
background_energy_multiplier = 2.08
sky = SubResource("Sky_eppwk")
sky_rotation = Vector3(0, 0.654498, 0)
ambient_light_source = 3
ambient_light_color = Color(0.4, 0, 0.14, 1)
ambient_light_sky_contribution = 0.55
ambient_light_energy = 10.39
reflected_light_source = 2
ssao_enabled = true
fog_light_color = Color(0.616379, 0.649052, 0.700388, 1)
fog_height = 27.95
fog_height_density = -0.032
volumetric_fog_enabled = true
volumetric_fog_density = 0.02
volumetric_fog_albedo = Color(0.452467, 0.714066, 0.814319, 1)
volumetric_fog_emission_energy = 0.0
volumetric_fog_anisotropy = 0.53

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_vj3je"]
exposure_multiplier = 1.445
dof_blur_far_distance = 10.4

[sub_resource type="FogMaterial" id="FogMaterial_eya5y"]
resource_local_to_scene = true
density = 7.0121
emission = Color(0.984314, 0.309804, 0, 1)
height_falloff = 1.45434
edge_fade = 3.80546

[sub_resource type="FogMaterial" id="FogMaterial_y62rh"]
resource_local_to_scene = true
density = 7.0121
emission = Color(0.933101, 0.835342, 0.995125, 1)
height_falloff = 1.45434
edge_fade = 3.80546

[sub_resource type="ShaderMaterial" id="ShaderMaterial_sg2kp"]
render_priority = 0
shader = ExtResource("4_n82ea")
shader_parameter/DisplacementEverywhere = false
shader_parameter/TimeScale = 0.585
shader_parameter/Intensity = 0.94
shader_parameter/Noise = ExtResource("5_imovl")
shader_parameter/UVMask = ExtResource("6_jtpw0")

[node name="Test-environment" type="Node3D"]

[node name="EnvironmentMeshes" type="Node3D" parent="."]
transform = Transform3D(3.34044, 0, 0, 0, 2.23316, 0, 0, 0, 1.11902, 0, -0.32817, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="EnvironmentMeshes"]
transform = Transform3D(19.3205, 0, 0, 0, 0.410119, 0, 0, 0, 59.1271, 0.0272078, -0.00927074, -0.280147)
mesh = SubResource("BoxMesh_hps0x")
skeleton = NodePath("../..")

[node name="MeshInstance3D4" type="MeshInstance3D" parent="EnvironmentMeshes"]
transform = Transform3D(4.614, 0, 1.04738, 0, 4.42183, 0, -1.6205, 0, 2.98217, -2.94488, -1.76776, 1.179)
mesh = SubResource("BoxMesh_hps0x")
skeleton = NodePath("../..")

[node name="MeshInstance3D5" type="MeshInstance3D" parent="EnvironmentMeshes"]
transform = Transform3D(4.59255, -0.435412, 0.227808, 3.20059, 0.624776, 0.158761, -1.96602, 0, 0.790605, -3.02478, 1.45682, 0.0931197)
mesh = SubResource("BoxMesh_hps0x")
skeleton = NodePath("../..")

[node name="Environments_testing" parent="EnvironmentMeshes" instance=ExtResource("1_esi7j")]
transform = Transform3D(-0.347908, 0, -0.674255, 0, 0.886448, 0, 1.19199, 0, -0.196796, 1.05307, -1.15039, 0.376141)
metadata/_edit_group_ = true

[node name="Environments_testing2" parent="EnvironmentMeshes" instance=ExtResource("1_esi7j")]
transform = Transform3D(-0.168347, -0.194727, 0.210382, 0.13653, -0.230974, 0.414473, 0.0477208, 0.734771, 0.295805, -2.23738, 0.107696, 1.85813)

[node name="Environments_testing3" parent="EnvironmentMeshes" instance=ExtResource("1_esi7j")]
transform = Transform3D(1.19679, -0.00155828, 0.106724, 0.0346504, 0.0373733, 0.0559163, -0.196012, -0.00290767, 0.661515, 0.743584, 2.70258, 3.52435)
metadata/_edit_group_ = true

[node name="EnvironmentScene" type="Node3D" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="EnvironmentScene"]
environment = SubResource("Environment_hj8bn")
camera_attributes = SubResource("CameraAttributesPractical_vj3je")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="EnvironmentScene"]
transform = Transform3D(0.481366, 0.421927, -0.768287, -0.15822, 0.903948, 0.397298, 0.862122, -0.0696873, 0.501886, 1.13195, 2.51756, 5.08679)
light_color = Color(1, 0.929412, 0.470588, 1)
light_energy = 0.3
light_indirect_energy = 2.445
light_volumetric_fog_energy = 3.061
shadow_enabled = true
shadow_normal_bias = 0.0

[node name="FogVolume" type="FogVolume" parent="EnvironmentScene"]
transform = Transform3D(3.48644, 0, 0, 0, 5.35968, -1.63072, 0, 4.00241, 2.18372, 0, 0.289998, 1.49295)
visible = false
size = Vector3(20, 1, 10.91)
material = SubResource("FogMaterial_eya5y")

[node name="FogVolume2" type="FogVolume" parent="EnvironmentScene"]
transform = Transform3D(3.48644, 0, 0, 0, 6.65715, -0.266475, 0, 0.65403, 2.71236, 0, -0.876863, 7.59415)
visible = false
size = Vector3(20, 1, 10.91)
material = SubResource("FogMaterial_y62rh")

[node name="DemoCamera" parent="EnvironmentScene" instance=ExtResource("2_v2tfx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.97542, 5.01396, 19.5403)

[node name="Characters" type="Node3D" parent="."]

[node name="Character" parent="Characters" instance=ExtResource("3_c2p6k")]
transform = Transform3D(0.87925, 0, -0.476361, 0, 1, 0, 0.476361, 0, 0.87925, -2.69168, 0.256733, 5.16645)

[node name="TreeBirch" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.08001, 0.0448055, 7.91602)
material_override = SubResource("ShaderMaterial_sg2kp")
mesh = ExtResource("7_xnfpj")

[node name="GrassChunkBig" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.40059, -0.760689, 5.57527)
mesh = ExtResource("8_3s3i8")

[node name="TreeManzanita" type="MeshInstance3D" parent="."]
transform = Transform3D(0.510273, 0, -0.860013, 0, 1, 0, 0.860013, 0, 0.510273, 3.37976, 0.0145035, 7.12672)
mesh = ExtResource("9_v03nn")

[node name="TreeDouglasFir" type="MeshInstance3D" parent="."]
transform = Transform3D(0.81138, 0, -0.584519, 0, 1, 0, 0.584519, 0, 0.81138, 8.01132, 0, 7.44697)
mesh = ExtResource("10_408e2")

[node name="SwordFern" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.72855, 0.0148702, 8.62156)
mesh = ExtResource("11_6iera")

[node name="Stump" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.06518, 0, 11.0253)
mesh = ExtResource("12_bfknj")

[node name="GrassChunkSmall" type="MeshInstance3D" parent="."]
transform = Transform3D(-0.140884, 0, -0.990026, 0, 1, 0, 0.990026, 0, -0.140884, 3.29126, -0.405243, 8.43512)
mesh = ExtResource("13_xqvj3")

[node name="TreeSmallCedar" type="MeshInstance3D" parent="."]
transform = Transform3D(-0.323027, 0, -1.32591, 0, 1.3647, 0, 1.32591, 0, -0.323027, 4.71471, 2.38419e-07, 9.33228)
mesh = ExtResource("14_lw2l4")

[node name="TreeSmallCedar2" type="MeshInstance3D" parent="."]
transform = Transform3D(-0.540461, 0, 0.841369, 0, 1, 0, -0.841369, 0, -0.540461, -4.49684, 0, 8.03355)
mesh = ExtResource("14_lw2l4")

[node name="RockA" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.53476, 4.76837e-07, 4.59181)
mesh = ExtResource("15_k6g7e")

[node name="RockB" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.13664, 0, 7.96141)
mesh = ExtResource("16_3ol3e")

[node name="RockC" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.96681, 0.511578, 6.99198)
mesh = ExtResource("17_18ihh")

[node name="RockD" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.05347, 0, 9.26893)
mesh = ExtResource("18_ovyjt")

[node name="SmallRockB" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.27955, 0, 9.60694)
mesh = ExtResource("19_i88pi")

[node name="SmallRockD" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.99506, 0, 8.98384)
mesh = ExtResource("20_gk075")

[node name="SmallRockC" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.490637, 0.0990609, 9.65244)
mesh = ExtResource("21_qlt4l")

[node name="SmallRockC2" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.46038, -2.38419e-07, 9.34579)
mesh = ExtResource("21_qlt4l")

[node name="DumpsterBase" type="MeshInstance3D" parent="."]
transform = Transform3D(-0.432432, 0, 0.901667, 0, 1, 0, -0.901667, 0, -0.432432, -12.9927, 0, 7.45736)
mesh = ExtResource("22_osmqy")

[node name="DumpsterLids" type="MeshInstance3D" parent="."]
transform = Transform3D(-0.432432, 0, 0.901667, 0, 1, 0, -0.901667, 0, -0.432432, -12.9927, 0, 7.45736)
mesh = ExtResource("23_v7chx")

[node name="DumpsterBase2" type="MeshInstance3D" parent="."]
transform = Transform3D(-0.650443, 0, 0.759555, 0, 1, 0, -0.759555, 0, -0.650443, -16.7659, 0, 11.7766)
mesh = ExtResource("22_osmqy")

[node name="Mailbox" type="MeshInstance3D" parent="."]
transform = Transform3D(-0.839772, 0, 0.54294, 0, 1, 0, -0.54294, 0, -0.839772, -5.94754, 0, 10.2057)
mesh = ExtResource("24_elak4")

[node name="StopSign" type="MeshInstance3D" parent="."]
transform = Transform3D(0.602971, 0, 0.797763, 0, 1, 0, -0.797763, 0, 0.602971, 6.07498, 0, 11.2182)
mesh = ExtResource("25_ua4rd")

[node name="TelephonePole" type="MeshInstance3D" parent="."]
transform = Transform3D(0.539462, 0, 0.84201, 0, 1, 0, -0.84201, 0, 0.539462, 12.2913, 0, 8.67948)
mesh = ExtResource("26_wxyq2")

[node name="Tire" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.938076, -0.346428, 0, 0.346428, 0.938076, 3.62586, 0.387359, 9.96839)
mesh = ExtResource("27_udens")

[node name="TrafficCone" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.703667, 0, 12.1509)
material_override = ExtResource("28_kwpff")
mesh = ExtResource("28_tlu7g")

[node name="TrafficLight" type="MeshInstance3D" parent="."]
transform = Transform3D(0.103313, 0, 0.994649, 0, 1, 0, -0.994649, 0, 0.103313, 13.9903, 0, 15.4078)
mesh = ExtResource("29_ta0nn")

[node name="TrafficCone2" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.6555, 0, 11.7271)
mesh = ExtResource("28_tlu7g")
